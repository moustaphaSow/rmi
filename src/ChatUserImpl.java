import Interface.ChatUser;import java.awt.*;import java.awt.event.*;import java.rmi.RemoteException;import java.rmi.server.UnicastRemoteObject;import javax.swing.*;public class ChatUserImpl extends UnicastRemoteObject implements ChatUser {    private String title = "Logiciel de discussion en ligne";    private String pseudo;    private JFrame window = new JFrame(this.title);    private JTextArea txtOutput = new JTextArea();    private JTextField txtMessage = new JTextField();    private JButton btnSend = new JButton("Envoyer");    public ChatUserImpl() throws RemoteException{        super();        this.createIHM();        this.requestPseudo();    }    public void createIHM() {        // Assemblage des composants        JPanel panel = (JPanel)this.window.getContentPane();	    JScrollPane sclPane = new JScrollPane(txtOutput);	    panel.add(sclPane, BorderLayout.CENTER);        JPanel southPanel = new JPanel(new BorderLayout());        southPanel.add(this.txtMessage, BorderLayout.CENTER);        southPanel.add(this.btnSend, BorderLayout.EAST);        panel.add(southPanel, BorderLayout.SOUTH);        // Gestion des Ã©vÃ¨nements        window.addWindowListener(new WindowAdapter() {            public void windowClosing(WindowEvent e) {                window_windowClosing(e);            }        });        btnSend.addActionListener(new ActionListener() {            public void actionPerformed(ActionEvent e) {                btnSend_actionPerformed(e);            }        });	txtMessage.addKeyListener(new KeyAdapter() {	    public void keyReleased(KeyEvent event) {		if (event.getKeyChar() == '\n')		    btnSend_actionPerformed(null);	    }	});        // Initialisation des attributs        this.txtOutput.setBackground(new Color(220,220,220));	this.txtOutput.setEditable(false);        this.window.setSize(500,400);        this.window.setVisible(true);        this.txtMessage.requestFocus();    }    public void requestPseudo() {        this.pseudo = JOptionPane.showInputDialog(                this.window, "Entrez votre pseudo : ",                this.title,  JOptionPane.OK_OPTION        );        if (this.pseudo == null) System.exit(0);    }    public void window_windowClosing(WindowEvent e) {	System.exit(-1);    }    public void btnSend_actionPerformed(ActionEvent e) { 	this.txtOutput.append(this.pseudo+">>>"+ this.txtMessage.getText() + "\n");	this.txtMessage.setText("");        this.txtMessage.requestFocus();    }    public static void main(String[] args) throws RemoteException {        new ChatUserImpl();    }    @Override    public void displayMessage(String message) throws RemoteException {        txtOutput.append(pseudo + ">>>" + message + "\n");    }}